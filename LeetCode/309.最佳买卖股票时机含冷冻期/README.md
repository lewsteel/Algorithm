### 309.最佳买卖股票时机含冷冻期

---

给定一个整数数组，其中第 i 个元素代表了第 i 天的股票价格 。​

设计一个算法计算出最大利润。在满足以下约束条件下，你可以尽可能地完成更多的交易（多次买卖一支股票）:

你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。
卖出股票后，你无法在第二天买入股票 (即冷冻期为 1 天)。
示例:
```
输入: [1,2,3,0,2]
输出: 3 
解释: 对应的交易状态为: [买入, 卖出, 冷冻期, 买入, 卖出]
```
---

#### 动态规划

这道题是“LeetCode-121.买卖股票的最佳时机”的升级版

仍然是动态规划的思路，已经在代码中逐行注释

``` js
var maxProfit = function(prices) {
  let len = prices.length
  if (len < 2) return 0
  // 卖出股票的状态下赚的钱，即保持不持股 或者 今天刚把股票卖出
  const sell = [0]
  // 买入股票的状态赚的钱，即保持拥有股票 或者 今天刚买入股票
  const buy = [-prices[0]]
  // 冷冻期拥有的钱
  const cooled = [0]
  for (let i = 1; i < len; i++) {
    // 可以从两种状态转换成sell，1. 保持不持股  2. 今天把股票卖出，所以是上次买入后的钱 + 今天卖出的钱
    sell[i] = Math.max(sell[i - 1], buy[i - 1] + prices[i])
    // 可以从两种状态转换成buy，1. 保持拥有股票  2. 今天新买入股票
    buy[i] = Math.max(buy[i - 1], cooled[i - 1] - prices[i])
    // 只能从昨天刚卖出股票转换成冷冻期
    cooled[i] = sell[i - 1]
  }
  // 最后肯定都卖出钱才最多
  return sell[len - 1]
};
```
